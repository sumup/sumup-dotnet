// <auto-generated />
#nullable enable

namespace SumUp;

using System;
using System.Net.Http;
using System.Text.Json;
using System.Threading;
using System.Threading.Tasks;
using SumUp.Http;

public sealed partial class RolesClient
{
    private readonly ApiClient _client;

    internal RolesClient(ApiClient client)
    {
        _client = client;
    }

    /// <summary>
    /// Create a role
    /// </summary>
    /// <remarks>Create a custom role for the merchant. Roles are defined by the set of permissions that they grant to the members that they are assigned to.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="body">Request body payload.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public ApiResponse<Role> Create(string merchantCode, RolesCreateRequest body, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(HttpMethod.Post, "/v0.1/merchants/{merchant_code}/roles", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
        });
        return _client.Send<Role>(request, body, "application/json", cancellationToken);
    }

    /// <summary>
    /// Create a role
    /// </summary>
    /// <remarks>Create a custom role for the merchant. Roles are defined by the set of permissions that they grant to the members that they are assigned to.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="body">Request body payload.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public async Task<ApiResponse<Role>> CreateAsync(string merchantCode, RolesCreateRequest body, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(HttpMethod.Post, "/v0.1/merchants/{merchant_code}/roles", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
        });
        return await _client.SendAsync<Role>(request, body, "application/json", cancellationToken).ConfigureAwait(false);
    }

    /// <summary>
    /// Delete a role
    /// </summary>
    /// <remarks>Delete a custom role.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="roleId">The ID of the role to retrieve.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public ApiResponse<JsonDocument> Delete(string merchantCode, string roleId, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(HttpMethod.Delete, "/v0.1/merchants/{merchant_code}/roles/{role_id}", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
            builder.AddPath("role_id", roleId);
        });
        return _client.Send<JsonDocument>(request, null, null, cancellationToken);
    }

    /// <summary>
    /// Delete a role
    /// </summary>
    /// <remarks>Delete a custom role.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="roleId">The ID of the role to retrieve.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public async Task<ApiResponse<JsonDocument>> DeleteAsync(string merchantCode, string roleId, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(HttpMethod.Delete, "/v0.1/merchants/{merchant_code}/roles/{role_id}", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
            builder.AddPath("role_id", roleId);
        });
        return await _client.SendAsync<JsonDocument>(request, null, null, cancellationToken).ConfigureAwait(false);
    }

    /// <summary>
    /// Retrieve a role
    /// </summary>
    /// <remarks>Retrieve a custom role by ID.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="roleId">The ID of the role to retrieve.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public ApiResponse<Role> Get(string merchantCode, string roleId, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(HttpMethod.Get, "/v0.1/merchants/{merchant_code}/roles/{role_id}", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
            builder.AddPath("role_id", roleId);
        });
        return _client.Send<Role>(request, null, null, cancellationToken);
    }

    /// <summary>
    /// Retrieve a role
    /// </summary>
    /// <remarks>Retrieve a custom role by ID.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="roleId">The ID of the role to retrieve.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public async Task<ApiResponse<Role>> GetAsync(string merchantCode, string roleId, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(HttpMethod.Get, "/v0.1/merchants/{merchant_code}/roles/{role_id}", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
            builder.AddPath("role_id", roleId);
        });
        return await _client.SendAsync<Role>(request, null, null, cancellationToken).ConfigureAwait(false);
    }

    /// <summary>
    /// List roles
    /// </summary>
    /// <remarks>List merchant's custom roles.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public ApiResponse<RolesListResponse> List(string merchantCode, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(HttpMethod.Get, "/v0.1/merchants/{merchant_code}/roles", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
        });
        return _client.Send<RolesListResponse>(request, null, null, cancellationToken);
    }

    /// <summary>
    /// List roles
    /// </summary>
    /// <remarks>List merchant's custom roles.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public async Task<ApiResponse<RolesListResponse>> ListAsync(string merchantCode, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(HttpMethod.Get, "/v0.1/merchants/{merchant_code}/roles", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
        });
        return await _client.SendAsync<RolesListResponse>(request, null, null, cancellationToken).ConfigureAwait(false);
    }

    /// <summary>
    /// Update a role
    /// </summary>
    /// <remarks>Update a custom role.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="roleId">The ID of the role to retrieve.</param>
    /// <param name="body">Request body payload.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public ApiResponse<Role> Update(string merchantCode, string roleId, RolesUpdateRequest body, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(new HttpMethod("PATCH"), "/v0.1/merchants/{merchant_code}/roles/{role_id}", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
            builder.AddPath("role_id", roleId);
        });
        return _client.Send<Role>(request, body, "application/json", cancellationToken);
    }

    /// <summary>
    /// Update a role
    /// </summary>
    /// <remarks>Update a custom role.</remarks>
    /// <param name="merchantCode">Short unique identifier for the merchant.</param>
    /// <param name="roleId">The ID of the role to retrieve.</param>
    /// <param name="body">Request body payload.</param>
    /// <param name="cancellationToken">Token used to cancel the request.</param>
    public async Task<ApiResponse<Role>> UpdateAsync(string merchantCode, string roleId, RolesUpdateRequest body, CancellationToken cancellationToken = default)
    {
        var request = _client.CreateRequest(new HttpMethod("PATCH"), "/v0.1/merchants/{merchant_code}/roles/{role_id}", builder =>
        {
            builder.AddPath("merchant_code", merchantCode);
            builder.AddPath("role_id", roleId);
        });
        return await _client.SendAsync<Role>(request, body, "application/json", cancellationToken).ConfigureAwait(false);
    }
}